<!DOCTYPE html>
<html>
    <head>
        <title>Message Bus Data Viz</title>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="lib/nvd3/build/nv.d3.css">
        <link rel="stylesheet" href="css/style.css">
    </head>
  <body>
    <!-- Scripts may be placed anywhere on a page. But FYI, they block rendering of elements
     below them until after the scripts load-->
    <script src="lib/jquery/dist/jquery.min.js"></script>
    <script src="lib/lodash/lodash.js"></script>
    <!-- // <script src="lib/underscore/underscore.js"></script> -->
    <script src="lib/backbone/backbone.js"></script>
    <script src="lib/d3/d3.js"></script>
    <script src="lib/nvd3/build/nv.d3.js"></script>

    <!-- // <script src="data/sample-data.csv"></script> -->
    <script src="data/sample-data.js"></script>

    <!-- // <script src="models/SongModel.js"></script> -->
    <!-- // <script src="collections/Songs.js"></script> -->

    <script src="models/AppModel.js"></script>

    <script src="views/ActivityView.js"></script>
    <script src="views/DevicesView.js"></script>
    <script src="views/SegementsView.js"></script>
    <script src="views/AppView.js"></script>
    <div>
        <h2>Activity</h2>
        <svg id="activity-chart"></svg>
    </div>
    <div>
        <h2>Segments</h2>
    </div>
    <div>
        <h2>Devices</h2>
        <svg id="devices-chart"></svg>
    </div>
    <script>
      $(function(){
        // set up model objects
        // var activity = new ActivityModel();
        // var segements = new SegmentsModel();
        // var devices = new DevicesModel();

        var data = sampleData;

        console.log('gender count: ', _.countBy(data, 'Gender'));


        // var app = new AppModel({});

        // build a view for the top level of the whole app
        // var appView = new AppView({model: app});
        var appView = new AppView({data: data});

        // put the view onto the screen
        $('body').append(appView.render());
      });
    </script>
  </body>
</html>
